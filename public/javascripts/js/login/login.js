!function(a){function e(r){if(t[r])return t[r].exports;var s=t[r]={exports:{},id:r,loaded:!1};return a[r].call(s.exports,s,s.exports,e),s.loaded=!0,s.exports}var t={};return e.m=a,e.c=t,e.p="",e(0)}([function(a,e){$(document).ready(function(){var a=1,e=/^\d{11}$/,t=/^.+@.+\.com$/;$(".confirm").tap(function(){switch(a){case 1:var r=$("#username1").val().replace(/\s/g,""),s=$("#password1").val().replace(/\s/g,""),n={username:r,password:s};$.ajax({url:"/login/signIn",data:n,type:"POST",success:function(a){200===a.status?location.replace($(".referer").val()):alert("账号或密码错误")}});break;case 2:var l=$("#username2"),i=$("#password2"),c=$("#password21"),o=$("#nickname"),v=l.val().replace(/\s/g,""),u=i.val().replace(/\s/g,""),p=c.val().replace(/\s/g,""),d=o.val().replace(/\s/g,"");if(!(v&&u&&p&&d))return void alert("请填写完整的信息");if(!e.test(v)&&!t.test(v))return alert("你输入的是邮箱？"),void l.val("");if(d.length>12)return alert("昵称太长啦！"),void o.val();if(u.length<6)return void alert("密码太短，容易被盗的");if(u!==p)return alert("两输入密码不一致"),i.val(""),void c.val("");var f={username:v,password:u,nickname:d};$.ajax({url:"/login/signUp",data:f,type:"POST",success:function(a){200===a.status?a.result.isUsed?(alert("该用户名已被注册"),l.val(""),i.val(""),c.val("")):(alert("注册成功！"),location.replace($(".referer").val())):alert("注册失败")}})}});var r=$(".signIn-tab"),s=$(".signUp-tab"),n=$(".signIn-area"),l=$(".signUp-area");r.tap(function(){$(this).hasClass("active-tab")||($(this).addClass("active-tab"),s.removeClass("active-tab"),l.hide(0),n.show(500),a=1)}),s.tap(function(){$(this).hasClass("active-tab")||($(this).addClass("active-tab"),r.removeClass("active-tab"),n.hide(0),l.show(500),a=2)}),$(".goBack").tap(function(){history.back()})})}]);