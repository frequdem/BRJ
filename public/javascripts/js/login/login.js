!function(a){function e(r){if(s[r])return s[r].exports;var t=s[r]={exports:{},id:r,loaded:!1};return a[r].call(t.exports,t,t.exports,e),t.loaded=!0,t.exports}var s={};return e.m=a,e.c=s,e.p="",e(0)}([function(a,e){$(function(){$.fn.cookie("username")&&$("#username1").val($.fn.cookie("username")),$.fn.cookie("password")&&$("#password1").val($.fn.cookie("password"));var a=1,e=/^\d{11}$/,s=/^.+@.+\.com$/;$(".confirm").tap(function(){switch(a){case 1:var r=$("#username1").val().replace(/\s/g,""),t=$("#password1").val().replace(/\s/g,""),n={username:r,password:t};$.ajax({url:"/login/signIn",data:n,type:"POST",success:function(a){200===a.status?($.fn.cookie("username",r,{expires:7}),$.fn.cookie("password",t,{expires:7}),location.replace($(".referer").val())):alert("账号或密码错误")}});break;case 2:var i=$("#username2"),o=$("#password2"),l=$("#password21"),c=$("#nickname"),v=i.val().replace(/\s/g,""),p=o.val().replace(/\s/g,""),u=l.val().replace(/\s/g,""),d=c.val().replace(/\s/g,"");if(!(v&&p&&u&&d))return void alert("请填写完整的信息");if(!e.test(v)&&!s.test(v))return alert("你输入的是邮箱？"),void i.val("");if(d.length>12)return alert("昵称太长啦！"),void c.val();if(p.length<6)return void alert("密码太短，容易被盗的");if(p!==u)return alert("两输入密码不一致"),o.val(""),void l.val("");var f={username:v,password:p,nickname:d};$.ajax({url:"/login/signUp",data:f,type:"POST",success:function(a){200===a.status?a.result.isUsed?(alert("该用户名已被注册"),i.val(""),o.val(""),l.val("")):(alert("注册成功！"),location.replace($(".referer").val())):alert("注册失败")}})}});var r=$(".signIn-tab"),t=$(".signUp-tab"),n=$(".signIn-area"),i=$(".signUp-area");r.tap(function(){$(this).hasClass("active-tab")||($(this).addClass("active-tab"),t.removeClass("active-tab"),i.hide(0),n.show(500),a=1)}),t.tap(function(){$(this).hasClass("active-tab")||($(this).addClass("active-tab"),r.removeClass("active-tab"),n.hide(0),i.show(500),a=2)}),$(".goBack").tap(function(){history.back()})})}]);