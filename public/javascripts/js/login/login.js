!function(a){function e(s){if(t[s])return t[s].exports;var r=t[s]={exports:{},id:s,loaded:!1};return a[s].call(r.exports,r,r.exports,e),r.loaded=!0,r.exports}var t={};return e.m=a,e.c=t,e.p="",e(0)}([function(a,e){$(document).ready(function(){var a=1,e=/^\d{11}$/,t=/^.+@.+\.com$/;$(".confirm").tap(function(){switch(a){case 1:var s=$("#username1").val().replace(/\s/g,""),r=$("#password1").val().replace(/\s/g,""),n={username:s,password:r};$.ajax({url:"/login/signIn",data:n,type:"POST",success:function(a){200===a.status?location.replace($(".referer").val()):alert("账号或密码错误")}});break;case 2:var i=$("#username2"),l=$("#password2"),o=$("#password21"),c=c.replace(/\s/g,""),u=u.replace(/\s/g,""),v=v.replace(/\s/g,"");if(!c||!u||!v)return void alert("请填写完整的信息");if(!e.test(c)&&!t.test(c))return alert("请输入合法邮箱或手机号"),void i.val("");if(u.length<6)return void alert("密码设置过短");if(u!==v)return alert("两输入密码不一致"),l.val(""),void o.val("");var p={username:c,password:u};$.ajax({url:"/login/signUp",data:p,type:"POST",success:function(a){200===a.status?a.result.isUsed?(alert("该用户名已被注册"),i.val(""),l.val(""),o.val("")):(alert("注册成功！"),location.replace($(".referer").val())):alert("注册失败")}})}});var s=$(".signIn-tab"),r=$(".signUp-tab"),n=$(".signIn-area"),i=$(".signUp-area");s.tap(function(){$(this).hasClass("active-tab")||($(this).addClass("active-tab"),r.removeClass("active-tab"),i.hide(0),n.show(500),a=1)}),r.tap(function(){$(this).hasClass("active-tab")||($(this).addClass("active-tab"),s.removeClass("active-tab"),n.hide(0),i.show(500),a=2)}),$(".goBack").tap(function(){history.back()})})}]);